<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
  <link rel="stylesheet" href="{{ .Site.BaseURL }}css/style.css">
  <title>{{ .Title }}</title>
  <style>
  img {
  max-width: 100%; /* Bild passt sich der Breite des Containers an */
  height: auto; /* Höhe wird proportional angepasst */
  display: block; /* Macht das Bild zu einem Block-Element */
  margin: 0 auto; /* Zentriert das Bild, falls nötig */
}

    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    /* Menü oben fixieren */
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      background-color: #333;
      color: white;
      padding: 1rem;
      z-index: 10;
    }

    nav ul {
      list-style-type: none;
      display: flex;
      justify-content: space-around;
      margin: 0;
      padding: 0;
    }

    nav ul li a {
      color: white;
      text-decoration: none;
      font-size: 18px;
      padding: 10px 15px;
      display: block;
    }

    nav ul li a.active {
      border-bottom: 2px solid white;
    }

    /* Swiper Container */
    .swiper-container {
      width: 100%;
      height: 100vh;
      margin-top: 80px; /* Abstand für das fixe Menü */
    }

    .swiper-slide {
      text-align: center;
      font-size: 18px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f0f0f0;
    }
  </style>
</head>
<body>

  <!-- Menü -->
  <nav>
    <ul>
      {{ range .Site.Menus.main }}
      <li><a href="#{{ .Identifier }}" class="menu-item" data-slide="{{ .Weight }}">{{ .Name }}</a></li>
      {{ end }}
    </ul>
  </nav>

  <!-- Swiper Container -->
  <div class="swiper-container">
    <div class="swiper-wrapper">
      {{ block "main" . }}{{ end }}
    </div>
    <div class="swiper-pagination"></div>
  </div>

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script>
    var swiper = new Swiper('.swiper-container', {
      slidesPerView: 1,
      spaceBetween: 10,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
    });

    // Menü-Item-Klick, um zum jeweiligen Slide zu wechseln
    document.querySelectorAll('.menu-item').forEach(function(menuItem) {
      menuItem.addEventListener('click', function(e) {
        e.preventDefault(); // Verhindert das Standardverhalten des Anker-Links
        var slideIndex = this.getAttribute('data-slide'); // Holt den Wert von data-slide
        console.log("Navigating to slide: ", slideIndex); // Debug-Ausgabe
        swiper.slideTo(slideIndex - 1); // Navigiert zum entsprechenden Slide
        updateActiveMenuItem(slideIndex - 1); // Aktualisiert den aktiven Menüpunkt
      });
    });

    // Funktion zum Hervorheben des aktiven Menü-Items
    function updateActiveMenuItem(index) {
      const menuItems = document.querySelectorAll('.menu-item');
      menuItems.forEach(function(menuItem) {
        menuItem.classList.remove('active'); // Entferne 'active' von allen Menü-Items
      });
      if (index >= 0 && index < menuItems.length) {
        menuItems[index].classList.add('active'); // Füge 'active' dem korrekten Menü-Item hinzu
      }
    }

    // Event-Listener für Slide-Änderung
    swiper.on('slideChange', function () {
      updateActiveMenuItem(swiper.activeIndex);
    });

  </script>
  
	<script src="{{ .Site.BaseURL }}js/accordion.js"></script>
</body>
</html>
